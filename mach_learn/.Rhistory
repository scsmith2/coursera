setwd("C:/users/scott_admin/documents/git_repo/coursera/mach_learn")
?preProcess
library(caret)
?preProcess
library(AppliedPredictiveModeling)
set.seed(3433)
data(AlzheimerDisease)
adData = data.frame(diagnosis,predictors)
inTrain = createDataPartition(adData$diagnosis, p = 3/4)[[1]]
training = adData[ inTrain,]
testing = adData[-inTrain,]
preProc <- preProcess(training,method="pca",thresh=.8)
preProc <- preProcess(training[,-1],method="pca",thresh=.8)
preProc <- preProcess(training[-diagnosis],method="pca",thresh=.8)
preProc <- preProcess(training[,-1],method="pca",thresh=.8)
colnames(training[,-1])
class(training)
class(training[,]
)
preProc <- preProcess(training[,2:130],method="pca",thresh=.8)
summary(preProc)
str(preProc)
grep("IL*",colnames(training))
colnames(training[,grep("IL*",colnames(training))]
)
colnames(training[,grep("IL",colnames(training))])
which(colnames(training)=="IL")
which(colnames(training)=="IL*")
which(substr(colnames(training),"IL"))
which(substr(colnames(training),1,2)=="IL")
preProc <- preProcess(training[,which(substr(colnames(training),1,2)=="IL")],method="pca",thresh=.8)
ILs <- which(substr(colnames(training),1,2)=="IL")
preProc <- preProcess(training[,ILs],method="pca",thresh=.8)
preProc
colnames(preProc)
preProc
class(preProc)
?train
glmFit_noPCA <- train(training$diagnosis ~ .,
method = "glm",
data = training)
glmFit_PCA <- train(training$diagnosis ~ .,
method = "glm",
preProcess = preProc,
data = training)
trainPC <- predict(preProc,training[,-1])
glmFit_noPCA <- train(training$diagnosis ~ .,
method = "glm",
data = training)
summary(glmFit_noPCA)
confusionMatrix(testing$diagnosis,predict(glmFit_noPCA,testing))
library(caret)
library(AppliedPredictiveModeling)
set.seed(3433)
data(AlzheimerDisease)
adData = data.frame(diagnosis,predictors)
inTrain = createDataPartition(adData$diagnosis, p = 3/4)[[1]]
training = adData[ inTrain,]
testing = adData[-inTrain,]
ss <- testing[,grep('^IL', x = names(testing) )]
model1 <- train(ss, testing$diagnosis, method='glm')
model2 <- preProcess(ss, method='pca', thresh = 0.8, outcome = testing$diagnosis)
confusionMatrix(testing$diagnosis,predict(model1,testing))
confusionMatrix(testing$diagnosis,predict(model2,testing))
glmFit_noPCA <- train(diagnosis ~ .,
method = "glm",
data = training)
confusionMatrix(testing$diagnosis,predict(glmFit_noPCA,testing))
